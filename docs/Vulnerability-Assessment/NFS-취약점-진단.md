---
title: NFS 취약점 진단
parent: Vulnerability Assessment
nav_order: 1
---

# NFS 취약점 진단

## NFS
네트워크 상에서 호스트의 파일 및 디렉토리를 공유하는 프로토콜/네트워크 서비스

### 포트
- 2049  : 일반적인 파일을 주고받을 때 사용되는 포트
- 111   : NFS를 포함한 RPC 기반 서비스가 사용하는 포트로, Portmapper 또는 RPCbind 서비스를 위한 포트

> Portmapper, RPCbind란?
> - RPC 기반 서비스가 동작할 때 클라이언트가 서버의 올바른 포트를 찾을 수 있도록 도와주는 서비스
> - RPCbind는 portmapper의 더 현대적인 버전으로 동일한 기능을 수행하지만 더 많은 보안 기능이 추가된 서비스

## NFS 취약점 진단을 할 때 살펴봐야 할 것

- 접근 제어 : NFS가 어떤 디렉토리들을 노출중이며, 어떤 호스트가 NFS에 접근 가능한가
- 파일 권한 : 어떤 파일이나 어떤 디렉토리들에 읽기/쓰기 권한이 있는지
- No_root_squash : 클라이언트들의 유저 권한을 무시하는 no_root_squash 설정이 비활성화 되어있는지



# 실습
## nmap 을 활용한 방법

```nmap -p 111,2049 --open -sV --script='nfs-*' <IP주소>```
{: .fs-6 .text-center}

포트 111번, 2049번에 대해 해당 포트가 열려있는지 확인하고 열려있다면 운용 중인 서비스 버전을 표시하고 nfs와 관련된 모든 NSE 스크립트를 실행하도록 명령어를 작성한다.

![nmap실행결과](\assets\images\nfs1_nmap실행결과.png)

nmap명령어 실행 결과

