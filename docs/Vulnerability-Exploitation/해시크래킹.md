---
title: 해시 크래킹
parent: Vulnerability Exploitation
nav_order: 4
---

# 해시 크래킹
<br>
- 해시 크래킹이란 해시 함수를 통해 생성된 해시값을 역으로 추적하여 원래의 입력 값을 알아내는 과정을 말한다.

- 해시는 일방향성 함수이기 때문에 원래의 입력값을 알아내는 것은 매우 어렵다.

- 해시 알고리즘 자체의 취약점이 있는 게 아닌 이상 해시 크래킹은 사전 공격, 브루트 포스 방식으로 진행된다. 
<br>

## hash-identifier

<br>
- 다이제스트(해시값)을 입력하면 그것이 어떤 해시 알고리즘으로 생성되었는지 알려주는 도구

![해시파일](\assets\images\hash_cracking\hash01_hash파일.png)
{: .text-center}
해시파일
{: .text-center}

![hash-identifier](\assets\images\hash_cracking\hash02_hashidentifier.png)
해시 알고리즘 파악
{: .text-center}

## john the ripper
<br>
- 해시 크래킹 툴 중 하나로, 해시값을 분석해서 해싱 되기 전의 값을 찾는 역할을 한다.

![john the ripper](\assets\images\hash_cracking\hash03_john1.png)
john the ripper 01
{: .text-center}
<br>
john the ripper 실행을 해보니 여러가지 형식으로 지정하라는 메시지가 나온다.
위에서 **hash-identifier**로 MD5라는 것을 알아냈으니 저 수많은 포맷들 중에 `Raw-MD5`로
지정해주자
<br><br>

![john the ripper](\assets\images\hash_cracking\hash04_john2.png)
john the ripper 02
{: .text-center}

mysql.hash 파일의 5가지 해시값이 크래킹 되었다.

----------------------------------------------------
----------------------------------------------------
번외 1

## 출력 결과를 깔끔하게 보는 방법
<br>
![john the ripper](\assets\images\hash_cracking\hash05_john3.png)
john the ripper 03
{: .text-center}

기존 명령어 뒤에

``` --pot=파일명 ``` 을 추가하면 해당 파일명으로 파일이 하나 생성되고 그 파일에는 해시값과 해시처리되기 전의 값이 나란히 나열되게 된다.

----------------------------------------------------
----------------------------------------------------

번외 2
## 크래킹 기법의 다양한 적용 사례

- /etc/passwd, /etc/shadow 크래킹 : unshadow를 통해 두 파일을 결합하여 해시 크래킹을 한다
- passphrase 암호가 걸려있는 SSH 비밀키를 크래킹 하기 위한 ssh2john
- 암호화된 zip 압축파일을 크래킹하기 위한 zip2john
- 마이크로소프트 오피스 파일 크래킹